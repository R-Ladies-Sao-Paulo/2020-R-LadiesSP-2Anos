---
title: "<center><img src= 'img/rainbow.png' width = '30%' alt='R-Ladies Logo'></br></center> "
subtitle: "R-Ladies São Paulo <BR> Visualização de dados com R"
author: "Julho/2020"
encoding: "UTF-8"
output:
  xaringan::moon_reader:
    lib_dir: libs
    chakra: libs/remark-latest.min.js
    css: [default, "css/metropolis.css", "css/metropolis-fonts.css", "css/footer.css"]
    includes:
      after_body: html/insert-logo.html
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
# Para exportar em PDF: pagedown::chrome_print("index.html", timeout = 600)
# knit: pagedown::chrome_print
---
layout: true
  
<div class="my-footer"><span>


<a href="https://www.meetup.com/pt-BR/R-Ladies-Sao-Paulo">Meetup</a> |
<a href="https://twitter.com/RLadiesSaoPaulo">Twitter</a> | 
<a href="http://instagram.com/RLadiesSaoPaulo">Instagram</a> |
<a href="http://facebook.com/RLadiesSaoPaulo">Facebook</a> |
<a href="https://github.com/rladies/meetup-presentations_sao-paulo">GitHub</a> |
<a href="http://bit.ly/2020-2-rladies">bit.ly/2020-2-rladies</a>


</span></div> 
---
class:

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)

knitr::opts_chunk$set(fig.align = "center", message=FALSE, warning=FALSE)

library(tidyverse)

```

# Pré-requisitos

## `R` e `RStudio` instalados no seu notebook 

```{r, echo=FALSE, out.width="40%"}
knitr::include_graphics("img/rlogos/rstudio-r.jpg")
```


---
class:

# Programação

-  ggplot2

- visualizar para explorar

- visualizar e comunicar

---
class:   

# Sobre as R-Ladies

## O que é o R-Ladies?

R-Ladies é uma organização mundial que promove a diversidade de gênero na comunidade da linguagem R.
R-Ladies São Paulo integra, orgulhosamente, a organização R-Ladies Global, em São Paulo.

## Como?

Através de meetups e mentorias em um ambiente seguro e amigável.

Nosso principal objetivo é promover a linguagem computacional estatística `R` compartilhando conhecimento, assim, quem tiver interesse na linguagem será bem-vinde, independente do nível de conhecimento. 


Fonte: [About us - R-Ladies](https://rladies.org/about-us/), [Meetup R-Ladies São Paulo](https://www.meetup.com/R-Ladies-Sao-Paulo/)


---
class:   

# Sobre as R-Ladies

## Para quem?

Nosso público-alvo são pessoas consideradas minorias de gênero, portanto, mulheres cis ou trans, homens trans, bem como pessoas não-binárias e queer.

## Missão

Como uma iniciativa de diversidade, a missão das R-Ladies é alcançar uma representação proporcional de pessoas de gêneros atualmente sub-representados na comunidade R, incentivando, inspirando e capacitando-as.

Fonte: [About us - R-Ladies](https://rladies.org/about-us/), [Meetup R-Ladies São Paulo](https://www.meetup.com/R-Ladies-Sao-Paulo/)

---
class:    

# Sobre as R-Ladies

## Como o R-Ladies começou?
```{r echo=FALSE, fig.align='center', out.width="20%"}
knitr::include_graphics("https://raw.githubusercontent.com/beatrizmilz/IV-SER-RLadies/master/docs/img/gabriela.jpeg")
```


**[Gabriela de Queiroz](https://github.com/gdequeiroz)** fundou o R-Ladies no dia **1 de outubro de 2012**. Ela queria retribuir à comunidade depois de ir à vários encontros e aprender muito de graça. O primeiro encontro R-Ladies foi realizado em ** San Francisco, Califórnia (Estados Unidos) **. Nos anos seguintes, mais capítulos do R-Ladies começaram em todo o mundo.

Fonte: [About us - R-Ladies](https://rladies.org/about-us/history/)

---
class:    

# Sobre as R-Ladies

## Crescimento da R-Ladies no mundo

```{r echo=FALSE, fig.align='center', out.width="100%"}
knitr::include_graphics("img/echarts.png")
```

Atualizado em: Junho/2020. Fonte: [R Community Explorer](https://benubah.github.io/r-community-explorer/rladies.html) 
---
class: 

# Sobre as R-Ladies

## Comunidade da R-Ladies - Capítulos no mundo
```{r echo=FALSE, out.width="100%"}
knitr::include_graphics("img/r-ladies-community.PNG")
```

Atualizado em: Junho/2020. Fonte: [R Community Explorer](https://benubah.github.io/r-community-explorer/rladies.html) 

---
class:    

# Sobre as R-Ladies

## Código de conduta
O R-Ladies dedica-se a proporcionar uma experiência livre de assédio para todas as pessoas participantes, desta forma, não é tolerada nenhuma forma de assédio.
[Código de conduta - R-Ladies](https://github.com/rladies/starter-kit/wiki/Code-of-Conduct#portuguese)



---
class:    

# R-Ladies no Brasil
```{r eval=FALSE, include=FALSE}
url <- "https://benubah.github.io/r-community-explorer/data/rladies.csv"
download.file(url, "data/rladies.csv", method = "curl")
```

```{r echo=FALSE, }
rladies <- readr::read_csv("data/rladies.csv")
```


Atualizado em: `r  format(Sys.time(), '%B de %Y')`. Fonte: [R Community Explorer](https://benubah.github.io/r-community-explorer/rladies.html) 

```{r echo=FALSE}
rladies %>% 
  dplyr::arrange(desc(members)) %>%
  filter(country == "Brazil") %>%
  select(-X1,-city,-region,-fullurl,-country, -created, -upcoming_events, -last_event, -past_events) %>%
    DT::datatable(autoHideNavigation = TRUE
                  ,
                options = list(pageLength = 7)
                )
```



---
class:

# Vamos começar?

- instalar R e RStudio
- instalar o ggplot2 (e tidyverse)
- explicar como o ggplo2 funciona
- exemplos ggplo2
---
class:

# Visualizar é explorar

## Por que explorar os dados com visualização?

O que essa tabela te diz?

```{r echo=FALSE}
dino <- read_csv('data/datasaurus.csv') %>% filter(dataset=='dino')
star <- read_csv('data/datasaurus.csv') %>% filter(dataset=='star')

read_csv('data/datasaurus.csv') %>% filter(dataset=='dino') %>%
  select(-1) %>% DT::datatable(autoHideNavigation = TRUE,
                options=list(pageLength = 5))
```
---
class:

# Visualizar é explorar

## Por que explorar os dados com visualização?

E agora?

```{r echo=FALSE, fig.width=5, fig.height=5}
dino %>% select(-1, ssauro=x, dino=y) %>% 
  ggplot(aes(ssauro, dino)) + geom_point() + theme_minimal()
```
---
class:

# Visualizar é explorar

## Por que explorar os dados com visualização?

Que tal agora?

```{r echo=FALSE, fig.width=5, fig.height=5}
star %>% select(-1, trela=x, es=y) %>% 
  ggplot(aes(trela, es)) + geom_point() + theme_minimal()
```
---
class:

# Visualizar é explorar

## Por que explorar os dados com visualização?

Ah, mas devem ser números beeeem diferentes...

Será?

```{r echo=FALSE}
ds_summary <- function(.data) .data %>% summarytools::descr(stats=c('mean', 'med', 'sd')) %>%
  as.data.frame() %>% mutate(stats=rownames(.)) %>% mutate_at(c('x', 'y'), round, digits=2)

dino %>% ds_summary() %>%
  left_join(star %>% ds_summary(), by="stats",
            suffix=c('_dino', '_star')) %>% 
  select(stats, starts_with('x'), everything()) %>% DT::datatable()
```
---
class:

# Visualizar é explorar

## Características da visualização para exploração
- Usada para entender melhor o conjunto de dados
- Normalmente é feita em cima dos dados não agregados
- Ajuda a entender conceitos estatísticos
- Aparência e comunicação importam menos
---
class:

# Visualizar é explorar

## Explorando os dados
Dataset: casas para alugar no Brasil a partir do QuintoAndar.
```{r echo=FALSE}
(rents <- read_csv('data/houses_to_rent.csv'))
```

Fonte: [https://www.kaggle.com/rubenssjr/brasilian-houses-to-rent](https://www.kaggle.com/rubenssjr/brasilian-houses-to-rent)
---
class:

# Visualizar é explorar

Que tal... uma distribuição dos preços de aluguel?

```{r fig.width=10, fig.height=5}
rents %>% ggplot(aes(rent)) + geom_histogram(bins=100) + theme_minimal()
```

Esse é um **histograma**.

---
class:

# Visualizar é explorar

Como tamanho do imóvel (área) e preço do aluguel se relacionam?

```{r fig.width=8, fig.height=5}
rents %>% ggplot(aes(area, rent)) + geom_point() 
```

---
class:

# Visualizar é explorar

Pera... vamos tirar os outliers.

```{r fig.width=8, fig.height=5, warning=TRUE}
rents %>% ggplot(aes(area, rent)) + geom_point() + xlim(0, 2000) + ylim(0, 20000)
```
---
class:

# Visualizar é explorar

Qual o padrão que vemos aqui?

```{r fig.width=8, fig.height=5}
rents %>% ggplot(aes(area, rent)) + geom_point() + xlim(0, 2000) + ylim(0, 20000) +
  geom_smooth(method='lm')
```
---
class:

# Visualizar é explorar

E a relação do alugel com o valor do condomínio?

```{r fig.width=8, fig.height=5}
rents %>% ggplot(aes(condo, rent)) + geom_point() +
  scale_x_continuous(labels=function(x) format(x, scientific=F))
```
---
class:

# Visualizar é explorar

Quê? Um condomínio que custa R$ 1.117.000 por mês?

```{r fig.width=8, fig.height=5}
rents %>% ggplot(aes(condo, rent)) + geom_point() + ylim(0, 10000) +
  scale_x_continuous(labels=function(x) format(x, scientific=F), limits=c(900000, 1200000))
```
---
class:

# Visualizar é explorar

Imagina falar que o valor médio dos condomínios é de <span style="color: red;">R$ 1.174</span>? O valor mediano, de <span style="color: blue;">R$ 560</span>, parece bem mais fiel à realidade, né?

```{r fig.width=8, fig.height=4.5}
rents %>% ggplot(aes(condo)) + xlim(0, 1500) + ylim(0, 1250) +
  geom_histogram(bins=10) + geom_vline(xintercept=mean(rents$condo), color='red') +
  geom_vline(xintercept=median(rents$condo), color='blue')
```
---
class:

# Visualizar é explorar

Voltando à relação de aluguel com tamanho do imóvel, tem diferença se é mobiliado?

```{r fig.width=8, fig.height=5}
rents %>% ggplot(aes(area, rent, color=furniture)) + geom_point() +
  xlim(0, 1000) + ylim(0, 15000)
```
---
class:

# Visualizar é explorar

E a cidade, influencia no preço do aluguel?

```{r fig.width=8, fig.height=5}
rents %>% ggplot(aes(area, rent, color=city)) + geom_point() +
  xlim(0, 1000) + ylim(0, 15000)
```
---
class:

# comunicação/visualização

falar de codificação e boas práticas

- cores
- tamanhos
- gráficos
---
class:

# do's and dont's 

- exemplos
---
class:    


# Referências

- 


---
class:   

# Como saber mais?
  - Website RLadies Global: [https://rladies.org/](https://rladies.org/)
  - Twitter: [@RLadiesGlobal](https://twitter.com/rladiesglobal), [@RLadiesSaoPaulo](https://twitter.com/RLadiesSaoPaulo)
  - Instagram: [@RLadiesSaoPaulo](http://instagram.com/RLadiesSaoPaulo)
  - Facebook: [@RLadiesSaoPaulo](http://facebook.com/RLadiesSaoPaulo)
  - MeetUp: [https://www.meetup.com/pt-BR/R-Ladies-Sao-Paulo](https://www.meetup.com/pt-BR/R-Ladies-Sao-Paulo)
  - Github: [https://github.com/rladies/meetup-presentations_sao-paulo](https://github.com/rladies/meetup-presentations_sao-paulo)
  - R-Ladies LATAM Blog (Latin America) - Em breve!
### Não tem capítulo na sua cidade e quer iniciar um?
<center> Saiba como em <a href="https://rladies.org/about-us/help/"> R-Ladies - How do get involved </a> </center>




- Apresentação feita com [Xaringan](https://github.com/yihui/xaringan), com o tema `metropolis` modificado por [Bea Milz](https://beatrizmilz.com).
